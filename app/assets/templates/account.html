<form class="form" name="account" novalidate>

  <div class="form-group bucket">
    <div class="bucket-media">
      <img alt="Gravatar" gravatar-src="user.email" height="100" width="100" gravatar-size="150"></img>
    </div>
    <div class="bucket-content">
      <p>Avatar managed by Gravatar</p>
      <a href="https://www.gravatar.com" target="_blank">Change Image</a>
    </div>
  </div>

  <div class="clearfix"></div>

  <div class="form-group">
    <label>Email</label>
    <input type="email" name="email" class="form-control" value="{{ ::user.email }}" readonly></input>
  </div>

  <div class="form-group">
    <label>Name</label>
    <input ng-model="user.name" ng-model-options="{ debounce: 250 }" type="text" name="name" class="form-control" ng-readonly="isAnonymous"></input>
  </div>

  <div class="checkbox" ng-if="!isAnonymous">
    <label>
      <input type="checkbox" ng-model="user.remain_anonymous"></input> Remain Anonymous
    </label>
  </div>

  <div ng-if="authData.provider === 'password'">
    <div class="form-group">
      <label>New Password</label>
      <input ng-model="newPassword" type="password" name="new-password" class="form-control"></input>
    </div>

    <div class="form-group">
      <label>New Password Confirmation</label>
      <input ng-model="newPasswordConfirmation" type="password" name="new-password-confirmation" class="form-control"></input>
    </div>

    <div class="form-group">
      <label>Current Password</label>
      <input ng-model="oldPassword" type="password" name="old-password" class="form-control"></input>
    </div>

    <div class="form-group">
      <button ng-click="changePassword(user.email, newPassword, newPasswordConfirmation, oldPassword)" type="submit" class="btn btn-default" ng-class="{ 'disabled':working }">
        {{ !working ? 'Change Password' : 'Changing...' }}
      </button>
    </div>
  </div>

</form>